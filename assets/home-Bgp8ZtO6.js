import{j as e,c as j,r as m,g as K,b as F,k as R}from"./index-Cn0FJ-H-.js";import{M as b,b as L,P as $,C as q}from"./customer-service-BOA8Jo8Y.js";import{u as k,b as z}from"./service-5muhP9aO.js";import{B as S}from"./btn-lx_N2Xjf.js";import{d as E,e as Q}from"./tabbar-service-Dz4AHzP7.js";import{S as v}from"./skeleton-CPbmSCCp.js";import{s as A,P as O}from"./sleep-BbthSbYP.js";import{b as Z,a as _}from"./wifi-xy8Ba9rG.js";import"./useBaseQuery-DHAeQAKs.js";const G=s=>e.jsx("svg",{fill:"currentColor",width:"1em",height:"1em",viewBox:"0 0 28 29",...s,children:e.jsx("g",{id:"\\u8FD0\\u8425\\u5546\\u67E5\\u8BE2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:e.jsx("g",{id:"\\u9009\\u62E9\\u56FD\\u5BB6",transform:"translate(-58.000000, -541.000000)",fill:"#999999",fillRule:"nonzero",children:e.jsx("g",{id:"\\u7F16\\u7EC4-23",transform:"translate(-1.000000, 0.000000)",children:e.jsx("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(57.000000, 539.000000)",children:e.jsx("g",{id:"fangdajing",transform:"translate(2.000000, 2.000000)",children:e.jsx("path",{d:"M27.8462945,26.114577 L20.8262202,19.1070105 C22.4642376,17.2383261 23.4002475,14.668885 23.4002475,11.8658584 C23.4002475,5.32546299 18.252193,0.186580882 11.7001237,0.186580882 C5.14805444,0.186580882 0,5.32546299 0,11.8658584 C0,18.4062538 5.14805444,23.5451359 11.7001237,23.5451359 C14.5081534,23.5451359 17.0821806,22.6107937 18.9542004,20.9756949 L25.9742747,27.9832614 C26.4422796,28.4504325 27.1442871,28.4504325 27.612292,27.9832614 C28.080297,27.5160903 28.080297,26.5817481 27.8462945,26.114577 Z M2.34002475,11.8658584 C2.34002475,6.72697629 6.55206929,2.52243639 11.7001237,2.52243639 C16.8481782,2.52243639 21.0602227,6.72697629 21.0602227,11.8658584 C21.0602227,17.0047405 16.8481782,21.2092804 11.7001237,21.2092804 C6.55206929,21.2092804 2.34002475,17.0047405 2.34002475,11.8658584 Z",id:"\\u5F62\\u72B6"})})})})})})}),H=s=>e.jsx("svg",{fill:"currentColor",width:"1em",height:"1em",viewBox:"0 0 52 46",...s,children:e.jsx("g",{id:"\\u8FD0\\u8425\\u5546\\u67E5\\u8BE2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:e.jsx("g",{id:"\\u652F\\u4ED8",transform:"translate(-507.000000, -957.000000)",children:e.jsxs("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(505.000000, 952.000000)",children:[e.jsx("rect",{id:"\\u77E9\\u5F62",x:0,y:0,width:56,height:56}),e.jsx("path",{d:"M20.6786098,33.9261377 C20.4469424,34.0443402 20.1855394,34.1125865 19.9078904,34.1125865 C19.2661424,34.1125865 18.7080292,33.7557294 18.4151312,33.2288192 L18.3028166,32.98028 L13.6279443,22.6281109 C13.5775053,22.5150578 13.5459516,22.3882135 13.5459516,22.2645654 C13.5459516,21.7872565 13.9291706,21.4001533 14.402124,21.4001533 C14.5942027,21.4001533 14.7713256,21.4642562 14.9146075,21.5717454 L20.4306964,25.5351729 C20.8340323,25.8018243 21.3152553,25.957731 21.8328413,25.957731 C22.1423959,25.957731 22.4365842,25.8997247 22.7113594,25.7985689 L48.6543552,14.1457567 C44.0046437,8.61497555 36.3457193,5 27.6787777,5 C13.496451,5 2,14.6687604 2,26.5959777 C2,33.1038689 5.45911693,38.9612018 10.8727444,42.919835 C11.3073407,43.2324771 11.5913239,43.746543 11.5913239,44.3268427 C11.5913239,44.518441 11.5505035,44.6946499 11.5013548,44.8772513 C11.0689285,46.5055115 10.3765069,49.1114144 10.3442494,49.2335827 C10.2903501,49.4377293 10.2057768,49.651228 10.2057768,49.8650818 C10.2057768,50.3420355 10.5893477,50.7288428 11.0623011,50.7288428 C11.2486321,50.7288428 11.3998903,50.6592944 11.5568963,50.5680825 L17.1786139,47.2929764 C17.6014215,47.0462129 18.0491555,46.8939168 18.5421672,46.8939168 C18.8045085,46.8939168 19.0581697,46.9345804 19.297227,47.0083313 C21.9196434,47.7695158 24.7491528,48.192725 27.6788364,48.192725 C41.8605767,48.192725 53.3580247,38.5237279 53.3580247,26.5960962 C53.3580247,22.9837842 52.2975745,19.5813011 50.4330918,16.5888869 L20.8658791,33.8169319 L20.6786098,33.9261377 Z",id:"\\u8DEF\\u5F84",fill:"#00C800",fillRule:"nonzero"})]})})})}),T=s=>e.jsx("svg",{viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...s,children:e.jsx("path",{fill:"currentColor",d:"M220.07 176.94C214.41 167.2 206 139.73 206 104a78 78 0 1 0-156 0c0 35.74-8.42 63.2-14.08 72.94A14 14 0 0 0 48 198h42.48a38 38 0 0 0 75 0H208a14 14 0 0 0 12.06-21.06ZM128 218a26 26 0 0 1-25.29-20h50.58A26 26 0 0 1 128 218m81.71-33a1.9 1.9 0 0 1-1.7 1H48a1.9 1.9 0 0 1-1.7-1a2 2 0 0 1 0-2c7.57-13 15.7-43.31 15.7-79a66 66 0 1 1 132 0c0 35.68 8.14 65.95 15.71 79a2 2 0 0 1 0 2"})});function V(){return e.jsxs("div",{className:"rounded-full h-[64px] mx-xs text-white bg-[#0cd1c7] flex items-center px-[34px]",children:[e.jsx(T,{className:"text-sm"}),e.jsx("span",{className:"ml-[12px] text-sm",children:"通知消息"})]})}function I({children:s,className:r,color:t="info",onClick:n}){return e.jsxs("div",{onClick:()=>n==null?void 0:n(),className:j("h-[44px] px-[13px] flex justify-between items-center  rounded-[6px]",{"bg-info text-[#666666]":t==="info","bg-[#EEF9FF] text-primary":t==="primary"},r),children:[e.jsx("span",{className:"text-[26px]",children:s}),e.jsx(E,{className:j(" ml-[7px]  text-[#A4A4A4] text-[23px]",t==="primary"?"text-primary":"text-[#A4A4A4]")})]})}function J(){return e.jsxs("div",{className:"px-sm flex flex-col justify-center items-center ",children:[e.jsx(v,{containerClassName:"w-[50%]  overflow-hidden",inline:!0,height:`${50/75}rem`,style:{display:"flex"}}),e.jsx(v,{containerClassName:"w-[80%]  overflow-hidden mt-1",inline:!0,height:`${50/75}rem`,style:{display:"flex"}})]})}function U(){const[s,r]=m.useState(!1),[t,n]=m.useState(0),{isLoading:a}=k({queryKey:["OperatorQuery",t],queryFn:async()=>(await A(1e3),!0),enabled:!!t});function i(){r(!0),n(Date.now())}return e.jsxs(e.Fragment,{children:[e.jsx(I,{onClick:()=>i(),color:"primary",children:"运营商查询"}),e.jsx(b,{isOpen:s,setIsOpen:()=>r(!1),type:"center",children:e.jsxs("div",{className:" h-[544px] w-[544px] flex flex-col",children:[e.jsx("div",{className:"title bg-primary text-white text-[36px] h-[120px] flex items-center justify-center",children:"运营商查询"}),e.jsx("div",{className:"flex-1 flex pt-[70px] flex-col",children:a?e.jsx(J,{}):e.jsxs("p",{className:"text-center text-[40px]  font-bold",children:["缅甸MPT",e.jsx("br",{}),"ATOMyanmar"]})}),e.jsx("div",{className:" px-[54px] pb-[45px]",children:e.jsx(S,{block:!0,className:"w-full",onClick:()=>r(!1),children:"确定"})})]})})]})}function M(){return e.jsx("div",{className:"size-full flex justify-center items-center text-md",children:"暂无数据"})}function P({className:s="",placeholder:r="",value:t,onChange:n}){return e.jsxs("div",{className:j("bg-[#F2F2F7] search-box h-[76px] rounded-full flex items-center px-lg",s),children:[e.jsx(G,{className:"text-md"}),e.jsx("input",{type:"text",className:"text-md ml-[13px] flex-1 h-full bg-transparent outline-none",placeholder:r,value:t,onChange:a=>n(a.target.value)}),t&&e.jsx("div",{className:"flex items-center justify-center  p-1",onClick:()=>n(""),children:e.jsx(L,{className:"text-sm text-[#999999]"})})]})}function y({words:s,activeWords:r}){return s.split("").map((t,n)=>e.jsx("span",{className:j({"text-primary font-bold":r==null?void 0:r.map(a=>a.toLowerCase()).includes(t.toLowerCase())}),children:t},n))}function X(){const[s,r]=m.useState(""),t=m.useMemo(()=>Array.from(new Set(s.split(""))).filter(Boolean),[s]);return{keyword:s,keywords:t,setKeyword:r}}function W({jsonUrl:s,selected:r,filter:t,onSelect:n}){const{keyword:a,setKeyword:i,keywords:c}=X(),[h,f]=m.useState(r??null),d=K(),{data:x,isLoading:o}=k({queryKey:[s],queryFn:async()=>await fetch(s).then(p=>p.json())}),l=m.useMemo(()=>{const p=(x??[]).map(N=>({...N,searchWord:[]}));return c.length?p.filter(N=>(N.searchWord=c.filter(D=>t(D,N)),N.searchWord.length>0)):p},[x,c,t]),u=m.useCallback(()=>(console.log(111),d.prefetchQuery({queryKey:[s]})),[s,d]),g=m.useCallback(p=>{f(p),n(p)},[n]);return{keyword:a,keywords:c,isLoading:o,data:l,activeItem:h,setKeyword:i,refreshList:u,setActiveItem:f,handleSelectItem:g}}function B(){return e.jsx("div",{className:"h-[750px] px-sm",children:e.jsx(v,{count:10})})}function Y({onSelect:s,selected:r}){const{data:t,isLoading:n,keyword:a,activeItem:i,setKeyword:c,refreshList:h,handleSelectItem:f}=W({selected:r,jsonUrl:"/project-preview/data/country-code.json",filter:(x,o)=>o.code.includes(x)||o.cn.includes(x),onSelect:s}),d=m.useMemo(()=>{var o;if(!(t!=null&&t.length))return[];const x=[];for(let l=0;l<t.length;l++){const u=t[l],g=u.en[0].toUpperCase();x.find(p=>p.groupName===g)?(o=x.find(p=>p.groupName===g))==null||o.children.push(u):x.push({groupName:g,children:[u]})}return x},[t]);return n?e.jsx(B,{}):e.jsx("div",{className:"h-[750px]  box-border relative",children:e.jsx(O,{onRefresh:h,children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"pt-lg px-sm   left-sm right-sm top-0",children:e.jsx(P,{className:"top-0 ",value:a,onChange:x=>c(x),placeholder:"请输入国家"})}),e.jsxs("div",{className:"overflow-y-auto h-[642px] ",children:[d.map(x=>e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-primary text-md px-sm h-[83px] flex items-center",children:x.groupName}),x.children.map((o,l)=>e.jsxs("div",{onClick:()=>f(o),className:j("text-sm flex items-center h-[104px] border-b   px-sm ",{"bg-[#EEF9FF]":(i==null?void 0:i.code)===o.code}),children:[e.jsx("div",{className:"rounded-full size-[60px] bg-primary text-sm flex items-center justify-center text-white",children:o.cn[0]}),e.jsx("div",{className:"ml-[46px] text-md",children:e.jsx(y,{words:o.code,activeWords:o.searchWord??[]})}),e.jsx("div",{className:"ml-[46px] text-md",children:e.jsx(y,{words:o.cn,activeWords:o.searchWord??[]})})]},`${o.code}_${l}`))]},x.groupName)),!d.length&&e.jsx(M,{})]})]})})})}function ee({onSelect:s,selected:r}){const{data:t,isLoading:n,keyword:a,activeItem:i,setKeyword:c,refreshList:h,handleSelectItem:f}=W({selected:r,jsonUrl:"/project-preview/data/operator.json",filter:(d,x)=>x.name.toLowerCase().includes(d.toLowerCase()),onSelect:s});return n?e.jsx(B,{}):e.jsx("div",{className:"h-[750px]  box-border relative",children:e.jsx(O,{onRefresh:h,children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"pt-lg px-sm   left-sm right-sm top-0",children:e.jsx(P,{className:"top-0 ",value:a,onChange:d=>c(d),placeholder:"请输入运营商"})}),e.jsxs("div",{className:"overflow-y-auto h-[642px]   ",children:[t.map(d=>e.jsx("div",{className:"",children:e.jsxs("div",{onClick:()=>f(d),className:j("text-sm flex items-center h-[104px] border-b  px-sm ",{"bg-[#EEF9FF]":(i==null?void 0:i.name)===d.name}),children:[e.jsx("div",{className:"rounded-full size-[60px] bg-primary text-sm flex items-center justify-center text-white",children:d.name[0]}),e.jsx("div",{className:"ml-[46px] text-md",children:e.jsx(y,{words:d.name,activeWords:d.searchWord??[]})})]})},d.name)),!t.length&&e.jsx(M,{})]})]})})})}function C({type:s="country",pickerClassName:r}){const[t,n]=m.useState(!1),[a,i]=m.useState(null);function c(h){i(h),n(!1)}return e.jsxs(e.Fragment,{children:[e.jsx(I,{className:r,onClick:()=>n(!0),color:a?"primary":"info",children:a?s==="country"?a.cn:a.name:s==="country"?"选择国家":"选择运营商"}),e.jsx(b,{isOpen:t,setIsOpen:()=>n(!1),contentWidth:"100%",title:s==="country"?"请选择要充值的国家和地区":"请选择运营商",children:s==="country"?e.jsx(Y,{onSelect:c,selected:a}):e.jsx(ee,{onSelect:c,selected:a})})]})}function se({name:s,money:r,hot:t=!1,active:n,id:a,onClick:i}){return e.jsxs("div",{onClick:()=>i==null?void 0:i(a),className:j("flex items-center flex-col rounded-[12px] py-[30px] h-[132px] justify-between relative",n?"bg-primary text-white":"bg-info"),children:[e.jsx("div",{className:"text-[40px] leading-none font-bold",children:s}),e.jsxs("div",{className:"text-sm leading-none",children:["售价",r,"元"]}),t&&e.jsx("img",{src:"/project-preview/th.png",className:"w-[66px] h-[33px] block absolute -top-[23px] right-0",alt:""})]})}const te=[{title:"订单详情",content:"泰国运营商5000话费充值"},{title:"手机号码",content:"+95 4627484848499"},{title:"支付金额",content:"15.00元"},{title:"支付方式",content:e.jsxs("div",{className:"flex items-center h-full ",children:[e.jsx(H,{className:"text-[46px]"}),e.jsx("span",{className:"text-[#000] text-[30px] ml-[8px]",children:"微信支付"}),e.jsx(E,{className:"ml-[11px] text-[#A4A4A4] text-[23px]"})]})}];function re({isOpen:s,setIsOpen:r}){const t=F(),[n,a]=m.useState(!1);async function i(){a(!0),await A(1e3),a(!1),r(!1),t("/order/result")}return e.jsx(b,{isOpen:s,setIsOpen:c=>r(c),contentWidth:"100%",shouldCloseOnOverlayClick:!n,children:e.jsxs("div",{className:"relative pt-[75px]",children:[e.jsx(L,{onClick:n?void 0:()=>r(!1),color:"#666666",className:"absolute  text-sm top-[33px] right-[26px]"}),e.jsx("h1",{className:"text-center leading-[118px] text-[84px] font-500",children:"￥15.00"}),e.jsx("div",{className:"px-sm",children:te.map(c=>e.jsxs("div",{className:"border-b h-[100px] flex justify-between items-center ",children:[e.jsx("span",{className:"text-[#666666] text-sm",children:c.title}),typeof c.content=="string"?e.jsx("span",{className:"text-[#000] text-[30px]",children:c.content}):c.content]},c.title))}),e.jsx("div",{className:"px-[28px]",children:e.jsx(S,{onClick:i,loading:n,className:"block box-border w-full mt-[127px] mb-[71px]",children:"立即支付"})})]})})}const w=[{name:"充话费",icon:e.jsx(Z,{className:"text-[88px]"})},{name:"充流量",icon:e.jsx(_,{className:"text-[88px]"})},{name:"服务大厅",icon:e.jsx(z,{className:"text-[88px]"})}],ne=Array.from({length:8},(s,r)=>{const t=r+1;return{name:`${t*1e3}KS`,money:t*5.5,id:r}});function ue(){var o;const[s,r]=m.useState(0),[t,n]=m.useState(0),[a,i]=m.useState(!1),c=F(),h=(o=w[s])==null?void 0:o.name;function f(l){n(l),i(!0)}function d(l){l===2&&c("/service"),r(l)}const[x]=R();return m.useEffect(()=>{const l=x.get("type");l&&r(Number(l))},[x]),e.jsxs($,{className:" pt-[80px]",children:[e.jsx(V,{}),e.jsx("div",{className:"flex justify-between bg-white mt-xs  mx-xs rounded-sm  px-[84px] pt-[32px] pb-[23px]",children:w.map((l,u)=>e.jsxs("div",{className:"item flex flex-col items-center ",onClick:()=>d(u),children:[l.icon,e.jsx("span",{className:j("mt-[12px] text-lg",{"text-primary font-bold":s===u}),children:l.name})]},l.name))}),e.jsxs("div",{className:"mx-xs bg-white rounded-sm mt-xs pt-[44px] px-xs pb-sm",children:[e.jsxs("div",{className:"flex items-center border-b pb-[23px]",children:[e.jsx("img",{src:"/project-preview/flag-demo.png",className:"flag bg-red-300 rounded-full size-[78px]"}),e.jsx("div",{className:"text-[64px] font-bold ml-[33px] flex-1",children:"123 456 9174"}),e.jsx("a",{href:"content://contacts/people",children:e.jsx(Q,{className:"text-primary text-[44px]"})})]}),e.jsxs("div",{className:"flex mt-[20px] ",children:[e.jsx(C,{type:"country"}),e.jsx(C,{type:"operator",pickerClassName:"ml-xs"}),e.jsx("div",{className:"flex-1"}),e.jsx(U,{})]}),e.jsx("h1",{className:"font-bold mt-[47px] text-lg",children:h}),e.jsx("div",{className:"grid grid-cols-3 gap-[17px] mt-xs",children:ne.map((l,u)=>m.createElement(se,{...l,key:l.id,hot:u===0,active:t===l.id,onClick:f}))})]}),e.jsxs("div",{className:"mx-xs bg-white rounded-sm mt-xs pt-[39px] px-xs pb-sm",children:[e.jsx("h1",{className:"leading-[45px] text-lg font-bold text-center",children:"温馨提示"}),e.jsxs("div",{className:"bg-[#EEF9FF] rounded-sm py-[26px] mt-[26px] pb-[30px] px-lg box-border min-h-[220px]",children:[e.jsx("h2",{className:"text-lg",children:"一、内容提示"}),e.jsx("p",{className:"text-[28px] text-[#666666] leading-[40px]",children:"该产品仅适用于缅甸电话卡；"}),e.jsx("p",{className:"text-[28px] text-[#666666] leading-[40px]",children:"该产品仅适用于缅甸电话卡；"})]})]}),e.jsx(q,{}),e.jsx(re,{isOpen:a,setIsOpen:i})]})}export{ue as default};
